![image](https://github.com/KonstantPetr/FSTRProjectSprints/assets/115106591/a90d2529-8929-48e3-8500-ae8289b2ed13)

## На [сайте](https://pereval.online) ФСТР ведёт базу горных перевалов, которая пополняется туристами

*После преодоления очередного перевала, турист заполняет отчёт в формате PDF и отправляет его на электронную почту федерации. Экспертная группа ФСТР получает эту информацию, верифицирует, а затем вносит её в базу, которая ведётся в Google-таблице. В ходе задачи требуется разработать REST API, взаимодействующий с базой данных PostreSQL для ускорения и упрощения работы ФСТР и туристов.*

**В ходе выполнения задачи используется методика Agile. Проект на стадии backend разработки разбит на 3 спринта:**

1. Спроектировать базу данных, создать прослойку для работы с ней из API-части, создать один метод для обработки запросов
2. Разработать еще три метода API (опционально - разместить решение на сервере)
3. Подготовить документацию (опционально - покрыть код тестами)

**Для выполнения задачи была выбрана связка фреймворка FastAPI для разработки Restful API и SQLAlchemy для маппинга моделей и работой с базой данных, в качестве базы данных PostgreSQL. Полный список зависимостей проекта можно увидеть в файле requirements.txt**

### 1 спринт
- Спроектирована и создана база данных PostgreSQL.
- Создан функционал для оперирования базой данных на основе SQLAlchemy.
- Создан промежуточный функционал между REST API и базой данных для их связки.
- Написан REST API.
___
    Результат метода ***POST /submitData***: JSON
    - status — код HTTP, целое число:
    * 500 — ошибка при выполнении операции;
    * 400 — Bad Request (при нехватке полей);
    * 200 — успех.
    - message — строка:
    * Причина ошибки (если она была);
    * Отправлено успешно;
    * Если отправка успешна, дополнительно возвращается id вставленной записи.
    - id — идентификатор, который был присвоен объекту при добавлении в базу данных.

### 2 спринт
- Добавлены ещё три метода API:
    * ***GET /submitData/<id>*** — получить одну запись (перевал) по её id
    * ***PATCH /submitData/<id>*** — отредактировать существующую запись (замена), если она в статусе new. Метод принимает тот же самый json, который принимал уже реализованный тобой метод submitData.
    * ***GET /submitData/?user__email=<email>*** — список данных обо всех объектах, которые пользователь с почтой <email> отправил на сервер.

### 3 спринт
- Код покрыт тестами
- Добавлена документация Swagger (файл проекта openapi.json)
- Подготовлена документация проекта в файле Readme.dm на GitHub
 
